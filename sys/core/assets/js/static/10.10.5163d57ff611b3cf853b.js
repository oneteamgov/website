webpackJsonp([10],[,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,,,,,function(e,t,n){e.exports=n(12)["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(){var e=new o.HandlebarsEnvironment;return h.extend(e,o),e.SafeString=u["default"],e.Exception=c["default"],e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}t.__esModule=!0;var r=n(13),o=a(r),l=n(27),u=i(l),d=n(15),c=i(d),p=n(14),h=a(p),f=n(28),m=a(f),v=n(29),g=i(v),b=s();b.create=s,g["default"](b),b["default"]=b,t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=a;var s=n(14),r=n(15),o=i(r),l=n(16),u=n(24),d=n(26),c=i(d),p="4.0.5";t.VERSION=p;var h=7;t.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=f;var m="[object Object]";a.prototype={constructor:a,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(s.toString.call(e)===m){if(t)throw new o["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(s.toString.call(e)===m)s.extend(this.partials,e);else{if("undefined"==typeof t)throw new o["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(s.toString.call(e)===m){if(t)throw new o["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var v=c["default"].log;t.log=v,t.createFrame=s.createFrame,t.logger=c["default"]},function(e,t){"use strict";function n(e){return d[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function a(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(c,n):e}function r(e){return e||0===e?!(!m(e)||0!==e.length):!0}function o(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=a,t.escapeExpression=s,t.isEmpty=r,t.createFrame=o,t.blockParams=l,t.appendContextPath=u;var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;t.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};t.isArray=m},function(e,t){"use strict";function n(e,t){var a=t&&t.loc,s=void 0,r=void 0;a&&(s=a.start.line,r=a.start.column,e+=" - "+s+":"+r);for(var o=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=o[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),a&&(this.lineNumber=s,this.column=r)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){r["default"](e),l["default"](e),d["default"](e),p["default"](e),f["default"](e),v["default"](e),b["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=a;var s=n(17),r=i(s),o=n(18),l=i(o),u=n(19),d=i(u),c=n(20),p=i(c),h=n(21),f=i(h),m=n(22),v=i(m),g=n(23),b=i(g)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||null==t)return a(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var r=i.createFrame(n.data);r.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:r}}return s(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(14),s=n(15),r=i(s);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,s){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!s,d&&(u.contextPath=d+t)),l+=i(e[t],{data:u,blockParams:a.blockParams([e[t],t],[d+t,null])})}if(!t)throw new r["default"]("Must pass iterator to #each");var i=t.fn,s=t.inverse,o=0,l="",u=void 0,d=void 0;if(t.data&&t.ids&&(d=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(u=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var c=e.length;c>o;o++)o in e&&n(o,o,o===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&n(p,o-1),p=h,o++);void 0!==p&&n(p,o-1,!0)}return 0===o&&(l=s(this)),l})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(15),s=i(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14);t["default"]=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var a=t.data;return t.data&&t.ids&&(a=i.createFrame(t.data),a.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:a,blockParams:i.blockParams([e],[a&&a.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){r["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=a;var s=n(25),r=i(s)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,a){var s=e;return t.partials||(t.partials={},s=function(a,s){var r=n.partials;n.partials=i.extend({},r,t.partials);var o=e(a,s);return n.partials=r,o}),t.partials[a.args[0]]=a.fn,s})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;n>s;s++)i[s-1]=arguments[s];console[t].apply(console,i)}}};t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){var t=e&&e[0]||1,n=g.COMPILER_REVISION;if(t!==n){if(n>t){var i=g.REVISION_CHANGES[n],a=g.REVISION_CHANGES[t];throw new v["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new v["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,a){a.hash&&(i=f.extend({},i,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,a);var s=t.VM.invokePartial.call(this,n,i,a);if(null==s&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),s=a.partials[a.name](i,a)),null!=s){if(a.indent){for(var r=s.split("\n"),o=0,l=r.length;l>o&&(r[o]||o+1!==l);o++)r[o]=a.indent+r[o];s=r.join("\n")}return s}throw new v["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(a,t,a.helpers,a.partials,r,l,o)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=s.data;i._setup(s),!s.partial&&e.useData&&(r=c(t,r));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=s.depths?t!==s.depths[0]?[t].concat(s.depths):s.depths:[t]),(n=p(e.main,n,a,s.depths||[],r,l))(t,s)}if(!t)throw new v["default"]("No environment passed to template");if(!e||!e.main)throw new v["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new v["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,a){var s=this.programs[e],r=this.fn(e);return t||a||i||n?s=o(this,e,r,t,n,i,a):s||(s=this.programs[e]=o(this,e,r)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=f.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=a.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,s){if(e.useBlockParams&&!i)throw new v["default"]("must pass block params");if(e.useDepths&&!s)throw new v["default"]("must pass parent depths");return o(a,t,e[t],n,0,i,s)},i}function o(e,t,n,i,a,s,r){function o(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r;return r&&t!==r[0]&&(o=[t].concat(r)),n(e,t,e.helpers,e.partials,a.data||i,s&&[a.blockParams].concat(s),o)}return o=p(n,o,e,r,i,s),o.program=t,o.depth=r?r.length:0,o.blockParams=a||0,o}function l(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function u(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==d&&(n.data=g.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=f.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new v["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function d(){return""}function c(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function p(e,t,n,i,a,s){if(e.decorator){var r={};t=e.decorator(t,r,n,i&&i[0],a,s,i),f.extend(t,r)}return t}t.__esModule=!0,t.checkRevision=s,t.template=r,t.wrapProgram=o,t.resolvePartial=l,t.invokePartial=u,t.noop=d;var h=n(14),f=a(h),m=n(15),v=i(m),g=n(13)},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){e.exports=function(e){return Perch.Lang.get(e)}},function(e,t,n){var i=n(11);e.exports=function(e,t,n){var a=e.split("/");return"object"==typeof t&&(t=16),"object"==typeof n&&(n=null),n=n?" icon-"+n:"",new i.SafeString('<svg width="'+t+'" height="'+t+'" class="icon icon-'+(a[1]+n)+'"><use xlink:href="'+Perch.path+"/core/assets/svg/"+a[0]+".svg#"+a[1]+'" /></svg>')}},,,,,,,,,,,,,,,function(e,t,n){n(47);e.exports=function(){var e,t,i="#dialog-asset-chooser",a=!1,s=1,r=0,o=[],l=null,u=64,d=null,c=[],p=!1,h=function(n){e=n,t=e(window),e.ajaxSetup({cache:!0,data:{v:Perch.version}}),f(),D()},f=function(){var t=e(".asset-badge");if(t.length){e(".asset-badge-remove-fields").addClass("js");var n=e(".ft-choose-asset:not(.assets-disabled):not([data-init])");if(n.length){var i=Perch.Lang.get("Select or upload an image");n.is(".ft-file")&&(i=Perch.Lang.get("Select or upload a file")),n.html('<a href="#content-edit" class="disabled">'+i+"</a>"),n.find("a.disabled").removeClass("disabled"),p||(e("form").on("click",".ft-choose-asset:not(.assets-disabled) a, .asset-badge-thumb, .asset-badge-remove-action",function(t){t.preventDefault();var n=e(this);if(n.is(".asset-badge-thumb")&&(n=n.parents(".form-entry").find(".ft-choose-asset a")),!n.is(".disabled")){if(n.closest("a").is(".asset-badge-remove-action"))return m(n.closest("a")),void t.stopImmediatePropagation();var i=n.parent(".ft-choose-asset"),a={field:i.attr("data-field"),group_id:i.attr("data-input"),bucket:i.attr("data-bucket"),type:i.attr("data-type")};Perch.UI.Assets.choose(a,function(t){t.asset_field=a.field;var n=z(t),i=e(".asset-badge[data-for="+a.field+"]");e("#"+a.field).val(t.id),i.replaceWith(n)})}}),p=!0),n.parents(".form-entry").find("input[type=file]").hide(),n.attr("data-init",!0),F();var t=e(".asset-badge");t.each(function(t,n){var i=e(n);if(!i.is("[data-init]")){var a=i.find(".ft-choose-asset");i.dropzone({url:Perch.path+"/core/apps/assets/upload/",clickable:!1,uploadMultiple:!1,maxFilesize:2048,previewTemplate:'<div style="display:none"></div>',totaluploadprogress:function(e){load_progress=e},success:function(t,n){if(100==load_progress){n.asset_field=a.attr("data-field");var s=z(n);e("#"+a.attr("data-field")).val(n.id),i.replaceWith(s)}},sending:function(e,t,n){n.append("bucket",d)},complete:function(e){this.removeFile(e)}}),i.attr("data-init",!0)}})}}var a=e("textarea[data-editor]");a.length&&F()},m=function(t){var n=e("#"+t.attr("data-checkbox"));n.prop("checked",!n.prop("checked"));var i=t.parents(".asset-badge-thumb");i.toggleClass("asset-strikethrough");var a=i.find(".asset-ban");if(i.is(".thumbless"))a.css({width:i.width(),height:i.height()});else{var s=i.find("img");a.css({width:s.width(),height:s.height()})}a.toggleClass("hidden")},v=function(t,n){c=t,s=1,r=0,g(),C(t,function(a){w(),F(),_(a,t),b(t,n),l=Perch.UI.Dialog.create(e(i)),l&&l.show()})},g=function(n){t.off("asset:update_bucket"),t.on("asset:update_bucket",function(t,n){d=n,e(".drop-invitation .bucket-name").html(n)})},b=function(e,n){t.off("asset:chosen"),t.on("asset:chosen",function(e,t){n(t),l&&l.hide()})},y=function(e){var n=o[e.id];for(var i in e)n[i]=e[i];t.trigger("asset:chosen",n)},w=function(){e(i).length&&e(i).remove()},F=function(){if(!e(i).length&&!a){a=!0;var t=n(48);e("#main").after(t({upload_url:Perch.path+"/core/apps/assets/upload/"})),e.ajax({url:Perch.path+"/core/apps/assets/async/asset-filter.php",cache:!1,success:function(t){var n=e("#asset-filter");n.append(t),a=!1,n.on("click","a:not(.action)",function(t){var i=e(t.target).closest("a"),a=i.parent("li"),s=a.parent("ul");s.is(".open")&&a!=s.find("li").first()?t.preventDefault():(t.preventDefault(),L(n,i.attr("href"))),i.is("[data-search]")&&t.preventDefault()}),n.on("submit","form",function(t){t.preventDefault();var i=e(t.target).find("input.search");L(n,"?q="+i.val())}),E()},error:function(){a=!1}})}},E=function(){var t=0,n=e(i+" form");n.is("[data-init]")||(n.dropzone({url:Perch.path+"/core/apps/assets/upload/",clickable:".drop-invitation",previewsContainer:".upload-progress",previewTemplate:document.getElementById("preview-template").innerHTML,uploadMultiple:!1,maxFilesize:2048,totaluploadprogress:function(e){t=e},success:function(n,i){if(100==t)if(i.id){var a=function(){x(e("[data-id="+i.id+"]"))};M(a)}else M()},sending:function(e,t,n){n.append("bucket",d)},complete:function(e){this.removeFile(e)}}),n.attr("data-init",!0)),e(i).on("dblclick",".asset-selectable",function(t){var n=e(t.currentTarget),i=n.attr("data-id");y({id:i,embed:"[cms:asset "+i+"]"})}),e(i).on("click keypress",".asset-selectable",function(t){t.preventDefault();var n=e(t.currentTarget);x(n)}),e(i).on("click",".pagination",function(t){t.preventDefault(),P(function(){e(i+" .asset-grid>div").appendTo(e(i).find(".asset-grid:first")),e(i+" .asset-grid").imagesLoaded(function(){Perch.UI.AssetGrid.layout(e(i),!0)})})}),e(".asset-topbar .button.select").on("click",function(t){t.preventDefault();var n=e(this);if(n.is(".active")){var i=n.data("assetID");y({id:i,embed:"[cms:asset "+i+"]"})}}),e(".asset-topbar .button.open-asset-dropzone").on("click",function(t){t.preventDefault();var n=e(".drop-invitation");n.is(".closed")?n.removeClass("closed").hide().find(".drop-invitation-inner").hide().end().slideDown(function(){e(".drop-invitation-inner").fadeIn()}):n.is(":visible")?n.find(".drop-invitation-inner").fadeOut(function(){n.slideUp()}):n.find(".drop-invitation-inner").hide().end().slideDown(function(){e(".drop-invitation-inner").fadeIn()})})},x=function(n){var i=n.attr("data-id");n.is(".asset-selected")?(e(".asset-field .asset-selected").removeClass("asset-selected"),t.trigger("Perch.asset_deselected"),i=!1):(e(".asset-field .asset-selected").removeClass("asset-selected"),n.addClass("asset-selected"),t.trigger("Perch.asset_selected",i))},_=function(t,a,r){var o,l="grid";a.view&&"list"==a.view?(o=n(49),l="list"):o=n(50);var d=e(i+" .asset-field");s>1&&!t.assets.length||(d.append(o(t)),e(i).on("dialog:show dialog:reload",function(){e(i).imagesLoaded(function(){Perch.UI.AssetGrid.layout(e(i))})}),t&&t.assets.length==u?e(i).find(".pagination").show():e(i).find(".pagination").hide(),r&&r())},k=function(n){t=e(n),t.on("Perch_Init_Editors",function(){f()}),t.on("Perch.asset_selected",function(t,n){e(".asset-topbar .buttons .select").addClass("active").data("assetID",n)}),t.on("Perch.asset_deselected",function(){e(".asset-topbar .buttons .select").removeClass("active")})},C=function(n,a){var l=function(t){return function(a){if(r=s,a.assets.length){var l,u;for(l=0,u=a.assets.length;u>l;l++)o[a.assets[l].id]=a.assets[l];s++}t(a,n),e(i).trigger("dialog:reload")}};s>r&&e.ajax({dataType:"json",url:Perch.path+"/core/apps/assets/async/get-assets.php?page="+s,data:n,success:l(a),cache:!1}),t.trigger("asset:update_bucket",n.bucket||"default")},z=function(e){var t=n(51);return t(e)},L=function(t,n){n||(n=""),n&&(c={},n.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,i){c[t]=i})),e.ajax({url:Perch.path+"/core/apps/assets/async/asset-filter.php",data:c,success:function(e){t.html(e)}}),M()},M=function(t){s=1,r=0,o=[],e(".asset-field").empty(),C(c,function(e,n){_(e,n,t)})},P=function(e){C(c,function(t,n){_(t,n,e)})},D=function(){var t=e("#preview-template").html();e(".asset-app-listing").dropzone({url:Perch.path+"/core/apps/assets/upload/",clickable:!1,uploadMultiple:!1,maxFilesize:2048,previewsContainer:".upload-progress",previewTemplate:t,totaluploadprogress:function(e){load_progress=e},success:function(e,t){100==load_progress&&window.location.reload(!0)},sending:function(e,t,n){n.append("bucket",d)},complete:function(e){this.removeFile(e)}})};return{init:h,registerEvents:k,choose:v}}()},function(e,t,n){var i,a,s;!function(r){a=[n(1)],i=r,s="function"==typeof i?i.apply(t,a):i,!(void 0!==s&&(e.exports=s))}(function(e){var t={exports:{}};return function(){var n,i,a,s,r,o,l,u,d=[].slice,c={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=function(){},i=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,a,s;if(i=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(a=0,s=n.length;s>a;a++)t=n[a],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,a,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[e],!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(a=s=0,r=i.length;r>s;a=++s)if(n=i[a],n===t){i.splice(a,1);break}return this},e}(),n=function(e){function t(e,i){var a,s,r;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,a=null!=(r=t.optionsForElement(this.element))?r:{},this.options=n({},this.defaultOptions,a,null!=i?i:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=t.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=t.getElements(this.options.clickable,"clickable")),this.init()}var n,a;return p(t,e),t.prototype.Emitter=i,t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,n,i,a,s,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),a=0,s=r.length;s>a;a++)e=r[a],/(^| )dz-message($| )/.test(e.className)&&(n=e,e.className="dz-message");return n||(n=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),i=n.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n,i,a,s,r,o,l,u,d,c,p,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),c=e.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=c.length;l>s;s++)n=c[s],n.textContent=this._renameFilename(e.name);for(p=e.previewElement.querySelectorAll("[data-dz-size]"),r=0,u=p.length;u>r;r++)n=p[r],n.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(n){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],o=0,d=h.length;d>o;o++)a=h[o],f.push(a.addEventListener("click",i));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,a,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),s=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,a=s.length;a>i;i++)n=s[i],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,i,a,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],i=0,a=s.length;a>i;i++)n=s[i],r.push(n.textContent=t);return r}},errormultiple:l,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:l,uploadprogress:function(e,t,n){var i,a,s,r,o;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],a=0,s=r.length;s>a;a++)i=r[a],"PROGRESS"===i.nodeName?o.push(i.value=t):o.push(i.style.width=""+t+"%");return o}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'
},n=function(){var e,t,n,i,a,s,r;for(i=arguments[0],n=2<=arguments.length?d.call(arguments,1):[],s=0,r=n.length;r>s;s++){t=n[s];for(e in t)a=t[e],i[e]=a}return i},t.prototype.getAcceptedFiles=function(){var e,t,n,i,a;for(i=this.files,a=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted&&a.push(e);return a},t.prototype.getRejectedFiles=function(){var e,t,n,i,a;for(i=this.files,a=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted||a.push(e);return a},t.prototype.getFilesWithStatus=function(e){var t,n,i,a,s;for(a=this.files,s=[],n=0,i=a.length;i>n;n++)t=a[n],t.status===e&&s.push(t);return s},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(t.UPLOADING)},t.prototype.getAddedFiles=function(){return this.getFilesWithStatus(t.ADDED)},t.prototype.getActiveFiles=function(){var e,n,i,a,s;for(a=this.files,s=[],n=0,i=a.length;i>n;n++)e=a[n],e.status!==t.UPLOADING&&e.status!==t.QUEUED||s.push(e);return s},t.prototype.init=function(){var e,n,i,a,s,r,o;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,a,s;if(n=e.hiddenFileInput.files,n.length)for(a=0,s=n.length;s>a;a++)t=n[a],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,o=this.events,a=0,s=o.length;s>a;a++)e=o[a],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),n=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return n(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var i;try{i=t.dataTransfer.effectAllowed}catch(a){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",n(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return n(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(n){return e.listeners.push({element:n,events:{click:function(i){return(n!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,n,i,a,s,r,o;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(o=this.getActiveFiles(),s=0,r=o.length;r>s;s++)t=o[s],i+=t.upload.bytesSent,n+=t.upload.total;a=100*i/n}else a=100;return this.emit("totaluploadprogress",a,n,i)},t.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},t.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},t.prototype.getFallbackForm=function(){var e,n,i,a;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',n=t.createElement(i),"FORM"!==this.element.tagName?(a=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),a.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:n)},t.prototype.getExistingFallback=function(){var e,t,n,i,a,s;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},s=["div","form"],i=0,a=s.length;a>i;i++)if(n=s[i],e=t(this.element.getElementsByTagName(n)))return e},t.prototype.setupEventListeners=function(){var e,t,n,i,a,s,r;for(s=this.listeners,r=[],i=0,a=s.length;a>i;i++)e=s[i],r.push(function(){var i,a;i=e.events,a=[];for(t in i)n=i[t],a.push(e.element.addEventListener(t,n,!1));return a}());return r},t.prototype.removeEventListeners=function(){var e,t,n,i,a,s,r;for(s=this.listeners,r=[],i=0,a=s.length;a>i;i++)e=s[i],r.push(function(){var i,a;i=e.events,a=[];for(t in i)n=i[t],a.push(e.element.removeEventListener(t,n,!1));return a}());return r},t.prototype.disable=function(){var e,t,n,i,a;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,a=[],t=0,n=i.length;n>t;t++)e=i[t],a.push(this.cancelUpload(e));return a},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t,n,i,a,s,r,o,l;if(i=0,a="b",e>0){for(r=["TB","GB","MB","KB","b"],n=o=0,l=r.length;l>o;n=++o)if(s=r[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),a=s;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+a},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},t.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},t.prototype.handleFiles=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;i>n;n++)t=e[n],a.push(this.addFile(t));return a},t.prototype._addFilesFromItems=function(e){var t,n,i,a,s;for(s=[],i=0,a=e.length;a>i;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?s.push(this.addFile(n.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?s.push(this.addFile(n.getAsFile())):s.push(void 0);return s},t.prototype._addFilesFromDirectory=function(e,t){var n,i,a;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(a=function(e){return function(){return n.readEntries(function(n){var i,s,r;if(n.length>0){for(s=0,r=n.length;r>s;s++)i=n[s],i.isFile?i.file(function(n){return e.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+t+"/"+n.name,e.addFile(n))}):i.isDirectory&&e._addFilesFromDirectory(i,""+t+"/"+i.name);a()}return null},i)}}(this))()},t.prototype.accept=function(e,n){return e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},t.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},t.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},t.prototype.removeFile=function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=u(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(e){var n,i,a,s;for(null==e&&(e=!1),s=this.files.slice(),i=0,a=s.length;a>i;i++)n=s[i],(n.status!==t.UPLOADING||e)&&this.removeFile(n);return null},t.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},t.prototype.createThumbnailFromUrl=function(e,t,n,i){var a;return a=document.createElement("img"),i&&(a.crossOrigin=i),a.onload=function(t){return function(){var i,s,r,l,u,d,c,p;return e.width=a.width,e.height=a.height,r=t.options.resize.call(t,e),null==r.trgWidth&&(r.trgWidth=r.optWidth),null==r.trgHeight&&(r.trgHeight=r.optHeight),i=document.createElement("canvas"),s=i.getContext("2d"),i.width=r.trgWidth,i.height=r.trgHeight,o(s,a,null!=(u=r.srcX)?u:0,null!=(d=r.srcY)?d:0,r.srcWidth,r.srcHeight,null!=(c=r.trgX)?c:0,null!=(p=r.trgY)?p:0,r.trgWidth,r.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n?n():void 0}}(this),null!=n&&(a.onerror=n),a.src=t},t.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var n,i,a;for(i=0,a=e.length;a>i;i++)n=e[i],n.processing=!0,n.status=t.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,a,s;for(a=this.files,s=[],n=0,i=a.length;i>n;n++)t=a[n],t.xhr===e&&s.push(t);return s}.call(this)},t.prototype.cancelUpload=function(e){var n,i,a,s,r,o,l;if(e.status===t.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),a=0,r=i.length;r>a;a++)n=i[a],n.status=t.CANCELED;for(e.xhr.abort(),s=0,o=i.length;o>s;s++)n=i[s],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==t.ADDED&&l!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},a=function(){var e,t;return t=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var i,s,r,o,l,u,d,c,p,h,f,m,v,g,b,y,w,F,E,x,_,k,C,z,L,M,P,D,A,S,T,I,N,H;for(E=new XMLHttpRequest,x=0,z=e.length;z>x;x++)i=e[x],i.xhr=E;m=a(this.options.method,e),w=a(this.options.url,e),E.open(m,w,!0),E.withCredentials=!!this.options.withCredentials,b=null,r=function(t){return function(){var n,a,s;for(s=[],n=0,a=e.length;a>n;n++)i=e[n],s.push(t._errorProcessing(e,b||t.options.dictResponseError.replace("{{statusCode}}",E.status),E));return s}}(this),y=function(t){return function(n){var a,s,r,o,l,u,d,c,p;if(null!=n)for(s=100*n.loaded/n.total,r=0,u=e.length;u>r;r++)i=e[r],i.upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(a=!0,s=100,o=0,d=e.length;d>o;o++)i=e[o],100===i.upload.progress&&i.upload.bytesSent===i.upload.total||(a=!1),i.upload.progress=s,i.upload.bytesSent=i.upload.total;if(a)return}for(p=[],l=0,c=e.length;c>l;l++)i=e[l],p.push(t.emit("uploadprogress",i,s,i.upload.bytesSent));return p}}(this),E.onload=function(n){return function(i){var a;if(e[0].status!==t.CANCELED&&4===E.readyState){if(b=E.responseText,E.getResponseHeader("content-type")&&~E.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(s){i=s,b="Invalid JSON response from server."}return y(),200<=(a=E.status)&&300>a?n._finished(e,b,i):r()}}}(this),E.onerror=function(n){return function(){return e[0].status!==t.CANCELED?r():void 0}}(this),g=null!=(A=E.upload)?A:E,g.onprogress=y,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(u,this.options.headers);for(o in u)l=u[o],l&&E.setRequestHeader(o,l);if(s=new FormData,this.options.params){S=this.options.params;for(f in S)F=S[f],s.append(f,F)}for(_=0,L=e.length;L>_;_++)i=e[_],this.emit("sending",i,E,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,E,s),"FORM"===this.element.tagName)for(T=this.element.querySelectorAll("input, textarea, select, button"),k=0,M=T.length;M>k;k++)if(c=T[k],p=c.getAttribute("name"),h=c.getAttribute("type"),"SELECT"===c.tagName&&c.hasAttribute("multiple"))for(I=c.options,C=0,P=I.length;P>C;C++)v=I[C],v.selected&&s.append(p,v.value);else(!h||"checkbox"!==(N=h.toLowerCase())&&"radio"!==N||c.checked)&&s.append(p,c.value);for(d=D=0,H=e.length-1;H>=0?H>=D:D>=H;d=H>=0?++D:--D)s.append(this._getParamName(d),e[d],this._renameFilename(e[d].name));return this.submitRequest(E,s,e)},t.prototype.submitRequest=function(e,t,n){return e.send(t)},t.prototype._finished=function(e,n,i){var a,s,r;for(s=0,r=e.length;r>s;s++)a=e[s],a.status=t.SUCCESS,this.emit("success",a,n,i),this.emit("complete",a);return this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(e,n,i){var a,s,r;for(s=0,r=e.length;r>s;s++)a=e[s],a.status=t.ERROR,this.emit("error",a,n,i),this.emit("complete",a);return this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t}(i),n.version="4.3.0",n.options={},n.optionsForElement=function(e){return e.getAttribute("id")?n.options[a(e.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},n.autoDiscover=!0,n.discover=function(){var e,t,i,a,s,r;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],e=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;a>n;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?s.push(i.push(t)):s.push(void 0);return s},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],a=0,s=i.length;s>a;a++)t=i[a],n.optionsForElement(t)!==!1?r.push(new n(t)):r.push(void 0);return r},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var e,t,i,a,s;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=n.blacklistedBrowsers,i=0,a=s.length;a>i;i++)t=s[i],t.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},u=function(e,t){var n,i,a,s;for(s=[],i=0,a=e.length;a>i;i++)n=e[i],n!==t&&s.push(n);return s},a=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},n.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},n.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},n.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(e,t){var n,i,a,s,r,o,l,u;if(e instanceof Array){a=[];try{for(s=0,o=e.length;o>s;s++)i=e[s],a.push(this.getElement(i,t))}catch(d){n=d,a=null}}else if("string"==typeof e)for(a=[],u=document.querySelectorAll(e),r=0,l=u.length;l>r;r++)i=u[r],a.push(i);else null!=e.nodeType&&(a=[e]);if(null==a||!a.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return a},n.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},n.isValidFile=function(e,t){var n,i,a,s,r;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),s=0,r=t.length;r>s;s++)if(a=t[s],a=a.trim(),"."===a.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(a.toLowerCase(),e.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(n===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0;return!1},"undefined"!=typeof e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new n(this,e)})}),"undefined"!=typeof t&&null!==t?t.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",r=function(e){var t,n,i,a,s,r,o,l,u,d;for(o=e.naturalWidth,r=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=r,i=n.getContext("2d"),i.drawImage(e,0,0),a=i.getImageData(0,0,1,r).data,d=0,s=r,l=r;l>d;)t=a[4*(l-1)+3],0===t?s=l:d=l,l=s+d>>1;return u=l/r,0===u?1:u},o=function(e,t,n,i,a,s,o,l,u,d){var c;return c=r(t),e.drawImage(t,n,i,a,s,o,l,u,d/c)},s=function(e,t){var n,i,a,s,r,o,l,u,d;if(a=!1,d=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",o=i.addEventListener?"":"on",s=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](o+n.type,s,!1),!a&&(a=!0)?t.call(e,n.type||n):void 0):void 0},r=function(){var e;try{u.doScroll("left")}catch(t){return e=t,void setTimeout(r,50)}return s("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{d=!e.frameElement}catch(c){}d&&r()}return i[n](o+"DOMContentLoaded",s,!1),i[n](o+"readystatechange",s,!1),e[n](o+"load",s,!1)}},n._autoDiscoverFunction=function(){return n.autoDiscover?n.discover():void 0},s(window,n._autoDiscoverFunction)}.call(this),t.exports})},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var a=n(11);e.exports=(a["default"]||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,s,r){var o=null!=t?t:{},l=e.escapeExpression;return'<div id="dialog-asset-chooser" aria-hidden="true" class="dialog asset-chooser-dialog">\n  <div tabindex="-1" class="dialog-overlay" data-a11y-dialog-hide></div>\n  <div role="dialog" aria-labelledby="dialog-title" class="dialog-content">\n    <div role="document" class="dialog-body">      \n      <div class="asset-topbar title-panel" tabindex="-1">\n        <h1 id="dialog-title">'+l(i(n(30)).call(o,"Select an Asset",{name:"Lang",hash:{},data:r}))+'</h1>\n        <div class="buttons">\n          <a href="#" class="button button-icon icon-left open-asset-dropzone">\n            <div>\n              '+l(i(n(31)).call(o,"assets/upload",12,{name:"icon",hash:{},data:r}))+" \n              <span>"+l(i(n(30)).call(o,"Add Asset",{name:"Lang",hash:{},data:r}))+'</span>\n            </div>\n          </a>\n          <a href="#" class="button button-icon action-success icon-left select">\n            <div>\n              '+l(i(n(31)).call(o,"core/add",12,{name:"icon",hash:{},data:r}))+" \n              <span>"+l(i(n(30)).call(o,"Use Selected",{name:"Lang",hash:{},data:r}))+'</span>\n            </div>\n          </a>\n        </div>\n      </div>\n      \n      <div class="upload-progress">\n        <div id="preview-template" style="display: none;">\n          <div class="dz-preview dz-file-preview notification notification-info" role="alert">\n            <div class="dz-details">\n              <div class="dz-filename">\n                '+l(i(n(31)).call(o,"assets/upload",12,{name:"icon",hash:{},data:r}))+" \n                "+l(i(n(30)).call(o,"Uploading",{name:"Lang",hash:{},data:r}))+' <span data-dz-name></span> (<span class="dz-size" data-dz-size></span>)\n              </div>\n            </div>\n            <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n            <div class="dz-error-message"><span data-dz-errormessage></span></div>\n          </div>\n        </div>\n      </div>\n\n      <div id="asset-filter"></div>\n      <form action="'+l(e.lambda(null!=t?t.upload_url:t,t))+'" id="asset-dropzone" method="post" enctype="multipart/form-data">  \n        <div class="drop-invitation closed">\n          <div class="drop-invitation-inner">\n            <div class="drop-message">\n              <h2>'+l(i(n(31)).call(o,"assets/upload",16,{name:"icon",hash:{},data:r}))+" "+l(i(n(30)).call(o,"Drop files anywhere to upload",{name:"Lang",hash:{},data:r}))+"</h2>\n              <p>"+l(i(n(31)).call(o,"core/box-storage",12,{name:"icon",hash:{},data:r}))+' <em class="bucket-name">default</em></p>\n            </div>\n          </div>\n        </div>\n        \n        <div class="asset-field"></div>\n        <nav class="pagination" role="navigation" aria-label="Pagination">\n          <ul class="pagination-next-group">\n            <li class="pagination-next">\n              <a href="#" rel="next" title="'+l(i(n(30)).call(o,"Next",{name:"Lang",hash:{},data:r}))+'" aria-label="Next page" class="button button-icon icon-right">\n                <div>\n                    '+l(i(n(31)).call(o,"core/o-navigate-right",8,{name:"icon",hash:{},data:r}))+"\n                    <span>"+l(i(n(30)).call(o,"Load more",{name:"Lang",hash:{},data:r}))+'</span>\n                </div>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </form>\n    </div>\n    <button type="button" data-a11y-dialog-hide aria-label="'+l(i(n(30)).call(o,"Close this dialog window",{name:"Lang",hash:{},data:r}))+'" class="dialog-close">\n        '+l(i(n(31)).call(o,"core/cancel",24,{name:"icon",hash:{},data:r}))+" \n    </button>\n  </div>\n</div>"},useData:!0})},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var a=n(11);e.exports=(a["default"]||a).template({1:function(e,t,n,i,a){var s;return'<div class="asset-list ">\n    <table>\n        <thead>\n            <tr>\n                <th class="first">Name</th>\n                <th>Type</th>\n                <th>Dimensions</th>\n                <th>Size</th>\n            </tr>\n        </thead>\n        <tbody>\n'+(null!=(s=n.each.call(null!=t?t:{},null!=t?t.assets:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?s:"")+"        </tbody>\n    </table>\n</div>\n"},2:function(e,t,a,s,r){var o,l=e.lambda,u=e.escapeExpression,d=null!=t?t:{};return'            <tr class="asset-'+u(l(null!=t?t.type:t,t))+' asset-selectable" data-id="'+u(l(null!=t?t.id:t,t))+'">\n                <td>'+u(i(n(31)).call(d,null!=t?t.iicon:t,16,{name:"icon",hash:{},data:r}))+' <a class=" list-asset-title primary" href="#" data-id="'+u(l(null!=t?t.id:t,t))+'">'+u(l(null!=t?t.title:t,t))+"</a></td>\n                <td>"+u(l(null!=t?t.mime_display:t,t))+"</td>\n                <td>"+(null!=(o=a["if"].call(d,null!=t?t.width:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))?o:"")+"</td>\n                <td>"+(null!=(o=l(null!=t?t.display_filesize:t,t))?o:"")+"</td>\n            </tr>\n"},3:function(e,t,n,i,a){var s=e.lambda,r=e.escapeExpression;return r(s(null!=t?t.width:t,t))+"  "+r(s(null!=t?t.height:t,t))},5:function(e,t,n,i,a){return" - "},7:function(e,t,a,s,r){return'    <div role="alert" class="notification notification-info">\n        '+e.escapeExpression(i(n(30)).call(null!=t?t:{},"No matching assets found",{name:"Lang",hash:{},data:r}))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var s;return null!=(s=n["if"].call(null!=t?t:{},null!=t?t.assets:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(7,a,0),data:a}))?s:""},useData:!0})},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var a=n(11);e.exports=(a["default"]||a).template({1:function(e,t,n,i,a){var s,r=e.lambda,o=e.escapeExpression,l=null!=t?t:{};return'\n	<div class="asset-selectable grid-asset asset-'+o(r(null!=t?t.type:t,t))+" "+(null!=(s=n["if"].call(l,null!=t?t.has_thumb:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))?s:"")+'" data-id="'+o(r(null!=t?t.id:t,t))+'" tabindex="0">\n'+(null!=(s=n["if"].call(l,null!=t?t.has_thumb:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(8,a,0),data:a}))?s:"")+'		<div class="asset-meta with-thumb"><span class="title">'+o(r(null!=t?t.title:t,t))+'</span></div>\n		<span class="asset-ratio asset-'+o(r(null!=t?t.orientation:t,t))+'"></span>\n	</div>\n\n\n\n'},2:function(e,t,n,i,a){return"asset-display-square"},4:function(e,t,n,i,a){return"asset-display-thumbless"},6:function(e,t,n,i,a){var s=e.lambda,r=e.escapeExpression;return'		  <img class="thumb '+r(s(null!=t?t.orientation:t,t))+'" src="'+r(s(null!=t?t.thumburl:t,t))+'" alt="'+r(s(null!=t?t.title:t,t))+'" data-width="'+r(s(null!=t?t.thumbwidth:t,t))+'" data-height="'+r(s(null!=t?t.thumbheight:t,t))+'" />\n'},8:function(e,t,a,s,r){return"		  "+e.escapeExpression(i(n(31)).call(null!=t?t:{},null!=t?t.iicon:t,64,{name:"icon",hash:{},data:r}))+"\n"},10:function(e,t,a,s,r){return'	<div role="alert" class="notification notification-info">\n		'+e.escapeExpression(i(n(30)).call(null!=t?t:{},"No matching assets found",{name:"Lang",hash:{},data:r}))+"\n	</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var s;return'<div class="asset-grid js">\n'+(null!=(s=n.each.call(null!=t?t:{},null!=t?t.assets:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.program(10,a,0),data:a}))?s:"")+"</div>"},useData:!0})},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var a=n(11);e.exports=(a["default"]||a).template({1:function(e,t,n,i,a){return""},3:function(e,t,n,i,a){return" thumbless"},5:function(e,t,a,s,r){var o=e.lambda,l=e.escapeExpression;return'				<img src="'+l(o(null!=t?t.thumburl:t,t))+'" width="'+l(o(null!=t?t.thumbwidth:t,t))+'" height="'+l(o(null!=t?t.thumbheight:t,t))+'" alt="'+l(i(n(30)).call(null!=t?t:{},"Preview",{name:"Lang",hash:{},data:r}))+'">\n'},7:function(e,t,n,i,a){var s;return null!=(s=n["if"].call(null!=t?t:{},null!=t?t.iicon:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a}))?s:""},8:function(e,t,a,s,r){return"					"+e.escapeExpression(i(n(31)).call(null!=t?t:{},null!=t?t.iicon:t,64,{name:"icon",hash:{},data:r}))+"\n"},10:function(e,t,a,s,r){return"			  		"+e.escapeExpression(i(n(31)).call(null!=t?t:{},"assets/upload",64,{name:"icon",hash:{},data:r}))+"\n"},12:function(e,t,a,s,r){return"\n					"+e.escapeExpression(i(n(31)).call(null!=t?t:{},null!=t?t.iicon:t,12,{name:"icon",hash:{},data:r}))+"\n"},14:function(e,t,a,s,r){return"			  		"+e.escapeExpression(i(n(31)).call(null!=t?t:{},"assets/o-document",12,{name:"icon",hash:{},data:r}))+"\n				"},16:function(e,t,a,s,r){return"\n						"+e.escapeExpression(i(n(31)).call(null!=t?t:{},"assets/o-crop",12,{name:"icon",hash:{},data:r}))+"\n"},18:function(e,t,a,s,r){return"						"+e.escapeExpression(i(n(31)).call(null!=t?t:{},"assets/o-weight-scale",12,{name:"icon",hash:{},data:r}))+"\n"},20:function(e,t,n,i,a){var s=e.lambda,r=e.escapeExpression;return r(s(null!=t?t.width:t,t))+" x "+r(s(null!=t?t.height:t,t))+' <span class="unit">px</span> @ '},compiler:[7,">= 4.0.0"],main:function(e,t,a,s,r){var o,l=e.lambda,u=e.escapeExpression,d=null!=t?t:{};return'<div class="asset-badge" data-for="'+u(l(null!=t?t.asset_field:t,t))+'">\n	<div class="asset-badge-inner">\n		<div class="asset-badge-thumb '+u(l(null!=t?t.strikethrough:t,t))+(null!=(o=a["if"].call(d,null!=t?t.has_thumb:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:"")+'">\n'+(null!=(o=a["if"].call(d,null!=t?t.has_thumb:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r}))?o:"")+'			<div class="asset-badge-remove">\n				<span class="asset-ban hidden">'+u(i(n(31)).call(d,"assets/ban-alt",64,{name:"icon",hash:{},data:r}))+'</span>\n				<span class="asset-badge-remove-fields js">\n					<label for="'+u(l(null!=t?t.input_id:t,t))+'_remove" class="inline">'+u(i(n(30)).call(d,"Remove",{name:"Lang",hash:{},data:r}))+'</label>\n					<input type="checkbox" class="check" id="'+u(l(null!=t?t.input_id:t,t))+'_remove" name="'+u(l(null!=t?t.input_id:t,t))+'_remove" value="1">\n				</span>\n				<a href="#" class="asset-badge-remove-action">\n					'+u(i(n(31)).call(d,"core/cancel",24,{name:"icon",hash:{},data:r}))+'\n				</a>\n			</div>\n		</div>\n		<div class="asset-badge-meta">\n			<h3 class="title">'+u(l(null!=t?t.title:t,t))+'</h3>\n			<ul class="meta">\n				<li>'+(null!=(o=a["if"].call(d,null!=t?t.iicon:t,{name:"if",hash:{},fn:e.program(12,r,0),
inverse:e.program(14,r,0),data:r}))?o:"")+" "+u(l(null!=t?t.mime_display:t,t))+"</li>\n				<li>"+(null!=(o=a["if"].call(d,null!=t?t.width:t,{name:"if",hash:{},fn:e.program(16,r,0),inverse:e.program(18,r,0),data:r}))?o:"")+"					"+(null!=(o=a["if"].call(d,null!=t?t.width:t,{name:"if",hash:{},fn:e.program(20,r,0),inverse:e.noop,data:r}))?o:"")+(null!=(o=l(null!=t?t.display_filesize:t,t))?o:"")+'</li>\n			</ul>\n			<div class="asset-add ft-choose-asset" data-field="'+u(l(null!=t?t.asset_field:t,t))+'">\n				<a href="#">'+u(i(n(30)).call(d,"Select or upload a file",{name:"Lang",hash:{},data:r}))+"</a>\n			</div>\n		</div>\n	</div>\n</div>\n\n\n\n\n\n"},useData:!0})}]);